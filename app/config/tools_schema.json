{
  "schema_version": "1.0",
  "protocol": "mcp",
  "tools": [
    {
      "name": "web_search",
      "description": "Search the web for information including weather, news, and general queries",
      "parameters": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "The search query"
          }
        },
        "required": ["query"]
      },
      "examples": [
        {"query": "weather in Berlin"},
        {"query": "latest AI news"},
        {"query": "how to learn python"}
      ]
    },
    {
      "name": "recall_last_conversation",
      "description": "Recall and retrieve previous conversations with the user",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "description": "The user's ID"
          }
        },
        "required": ["user_id"]
      }
    },
    {
      "name": "clarify_communication",
      "description": "SOCIAL COACHING TOOL: 1) FIRST check empathy and communication clarity - is the message kind, respectful, clear? 2) SECOND check if translation is needed. Use for: rude messages, unclear wording, miscommunication, conflict resolution. NOT primarily for translation!",
      "parameters": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "The text to analyze for empathy, clarity, and if needed translation"
          },
          "target_language": {
            "type": "string",
            "description": "Target language for response (user's preferred language)"
          },
          "context": {
            "type": "string",
            "description": "Context: 'empathy_check', 'conflict', 'unclear', or 'translation'"
          }
        },
        "required": ["text"]
      }
    },
    {
      "name": "user_preference",
      "description": "Get or set user preferences",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "description": "The user's ID"
          },
          "preference_type": {
            "type": "string",
            "description": "Type of preference to get/set"
          },
          "value": {
            "type": "string",
            "description": "Value to set (optional for get)"
          }
        },
        "required": ["user_id"]
      }
    },
    {
      "name": "skill_evaluator",
      "description": "Evaluate user's social skills based on conversation",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "description": "The user's ID"
          },
          "skill_type": {
            "type": "string",
            "description": "Type of skill to evaluate"
          }
        },
        "required": ["user_id"]
      }
    },
    {
      "name": "format_output",
      "description": "Format text output in a specific style",
      "parameters": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "Text to format"
          },
          "format_type": {
            "type": "string",
            "description": "Format type (markdown, plain, etc.)"
          }
        },
        "required": ["text"]
      }
    },
    {
      "name": "set_language_preference",
      "description": "Set the user's preferred language for responses",
      "parameters": {
        "type": "object",
        "properties": {
          "language": {
            "type": "string",
            "description": "Language name (e.g., German, English, French)"
          },
          "confirmed": {
            "type": "boolean",
            "description": "Whether user confirmed this preference"
          }
        },
        "required": ["language"]
      }
    },
    {
      "name": "life_event",
      "description": "Record significant life events for the user",
      "parameters": {
        "type": "object",
        "properties": {
          "user_id": {
            "type": "integer",
            "description": "The user's ID"
          },
          "event_type": {
            "type": "string",
            "description": "Type of life event"
          },
          "description": {
            "type": "string",
            "description": "Description of the event"
          }
        },
        "required": ["user_id", "event_type"]
      }
    }
  ],
  "response_format": {
    "type": "object",
    "properties": {
      "formatted_output": {
        "type": ["string", "null"],
        "description": "null if tools needed, or the final natural response"
      },
      "tool_calls": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": {"type": "string"},
            "arguments": {"type": "object"}
          },
          "required": ["name", "arguments"]
        }
      }
    },
    "required": ["formatted_output", "tool_calls"]
  }
}
